<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.3881677f45ebbfb10fde.css" id="gatsby-global-css">/*! tailwindcss v2.2.7 | MIT License | https://tailwindcss.com
 */

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */html{-moz-tab-size:4;tab-size:4;line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}hr{height:0;color:inherit}abbr[title]{text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}button{-webkit-appearance:button}legend{padding:0}progress{vertical-align:baseline}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{font-family:inherit;line-height:inherit}*,:after,:before{box-sizing:border-box;border:0 solid}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#a1a1aa}button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}*,:after,:before{--tw-border-opacity:1;border-color:rgba(228,228,231,var(--tw-border-opacity))}.prose{color:#3f3f46;max-width:65ch}.prose a{color:#18181b;text-decoration:underline;font-weight:500}.prose a:hover{color:#c084fc}.prose strong{color:#18181b;font-weight:600}.prose ol>li{position:relative;padding-left:1.75em}.prose ol>li:before{content:counter(list-item,var(--list-counter-style,decimal)) ".";position:absolute;font-weight:400;color:#71717a;left:0}.prose ul>li{position:relative;padding-left:1.75em}.prose ul>li:before{content:"";position:absolute;background-color:#d4d4d8;border-radius:50%;width:.375em;height:.375em;top:.6875em;left:.25em}.prose hr{border-color:#e4e4e7;border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose blockquote{font-weight:500;font-style:italic;color:#18181b;border-left-width:.25rem;border-left-color:#e4e4e7;quotes:"\201C""\201D""\2018""\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em}.prose blockquote p:first-of-type:before{content:open-quote}.prose blockquote p:last-of-type:after{content:close-quote}.prose h1{color:#18181b;font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose h2{color:#18181b;font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose h3{font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose h3,.prose h4{color:#18181b;font-weight:600}.prose h4{margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose figure figcaption{color:#71717a;font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose code{color:#18181b;font-weight:600;font-size:.875em}.prose code:after,.prose code:before{content:"`"}.prose a code{color:#18181b}.prose pre code{background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:400;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose pre code:after,.prose pre code:before{content:none}.prose table{width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose thead{color:#18181b;font-weight:600;border-bottom-width:1px;border-bottom-color:#d4d4d8}.prose thead th{vertical-align:bottom;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose tbody tr{border-bottom-width:1px;border-bottom-color:#e4e4e7}.prose tbody tr:last-child{border-bottom-width:0}.prose tbody td{vertical-align:top;padding:.5714286em}.prose{font-size:1rem;line-height:1.75}.prose p{margin-top:1.25em;margin-bottom:1.25em}.prose figure,.prose img,.prose video{margin-top:2em;margin-bottom:2em}.prose figure>*{margin-top:0;margin-bottom:0}.prose h2 code{font-size:.875em}.prose h3 code{font-size:.9em}.prose ol,.prose ul{margin-top:1.25em;margin-bottom:1.25em}.prose li{margin-top:.5em;margin-bottom:.5em}.prose>ul>li p{margin-top:.75em;margin-bottom:.75em}.prose>ul>li>:first-child{margin-top:1.25em}.prose>ul>li>:last-child{margin-bottom:1.25em}.prose>ol>li>:first-child{margin-top:1.25em}.prose>ol>li>:last-child{margin-bottom:1.25em}.prose ol ol,.prose ol ul,.prose ul ol,.prose ul ul{margin-top:.75em;margin-bottom:.75em}.prose h2+*,.prose h3+*,.prose h4+*,.prose hr+*{margin-top:0}.prose thead th:first-child{padding-left:0}.prose thead th:last-child{padding-right:0}.prose tbody td:first-child{padding-left:0}.prose tbody td:last-child{padding-right:0}.prose>:first-child{margin-top:0}.prose>:last-child{margin-bottom:0}.prose-sm{font-size:.875rem;line-height:1.7142857}.prose-sm p{margin-top:1.1428571em;margin-bottom:1.1428571em}.prose-sm blockquote{margin-top:1.3333333em;margin-bottom:1.3333333em;padding-left:1.1111111em}.prose-sm h1{font-size:2.1428571em;margin-top:0;margin-bottom:.8em;line-height:1.2}.prose-sm h2{font-size:1.4285714em;margin-top:1.6em;margin-bottom:.8em;line-height:1.4}.prose-sm h3{font-size:1.2857143em;margin-top:1.5555556em;margin-bottom:.4444444em;line-height:1.5555556}.prose-sm h4{margin-top:1.4285714em;margin-bottom:.5714286em;line-height:1.4285714}.prose-sm figure,.prose-sm img,.prose-sm video{margin-top:1.7142857em;margin-bottom:1.7142857em}.prose-sm figure>*{margin-top:0;margin-bottom:0}.prose-sm figure figcaption{font-size:.8571429em;line-height:1.3333333;margin-top:.6666667em}.prose-sm code{font-size:.8571429em}.prose-sm h2 code{font-size:.9em}.prose-sm h3 code{font-size:.8888889em}.prose-sm pre{font-size:.8571429em;line-height:1.6666667;margin-top:1.6666667em;margin-bottom:1.6666667em;border-radius:.25rem;padding:.6666667em 1em}.prose-sm ol,.prose-sm ul{margin-top:1.1428571em;margin-bottom:1.1428571em}.prose-sm li{margin-top:.2857143em;margin-bottom:.2857143em}.prose-sm ol>li{padding-left:1.5714286em}.prose-sm ol>li:before{left:0}.prose-sm ul>li{padding-left:1.5714286em}.prose-sm ul>li:before{height:.3571429em;width:.3571429em;top:.67857em;left:.2142857em}.prose-sm>ul>li p{margin-top:.5714286em;margin-bottom:.5714286em}.prose-sm>ul>li>:first-child{margin-top:1.1428571em}.prose-sm>ul>li>:last-child{margin-bottom:1.1428571em}.prose-sm>ol>li>:first-child{margin-top:1.1428571em}.prose-sm>ol>li>:last-child{margin-bottom:1.1428571em}.prose-sm ol ol,.prose-sm ol ul,.prose-sm ul ol,.prose-sm ul ul{margin-top:.5714286em;margin-bottom:.5714286em}.prose-sm hr{margin-top:2.8571429em;margin-bottom:2.8571429em}.prose-sm h2+*,.prose-sm h3+*,.prose-sm h4+*,.prose-sm hr+*{margin-top:0}.prose-sm table{font-size:.8571429em;line-height:1.5}.prose-sm thead th{padding-right:1em;padding-bottom:.6666667em;padding-left:1em}.prose-sm thead th:first-child{padding-left:0}.prose-sm thead th:last-child{padding-right:0}.prose-sm tbody td{padding:.6666667em 1em}.prose-sm tbody td:first-child{padding-left:0}.prose-sm tbody td:last-child{padding-right:0}.prose-sm>:first-child{margin-top:0}.prose-sm>:last-child{margin-bottom:0}.dark .dark\:prose-light{color:#e4e4e7}.dark .dark\:prose-light a{color:#fff}.dark .dark\:prose-light a:hover{color:#c084fc}.dark .dark\:prose-light strong{color:#fff}.dark .dark\:prose-light ol>li:before{color:#a1a1aa}.dark .dark\:prose-light ul>li:before{background-color:#52525b}.dark .dark\:prose-light hr{border-color:#e4e4e7}.dark .dark\:prose-light blockquote{color:#e4e4e7;border-left-color:#52525b}.dark .dark\:prose-light h1,.dark .dark\:prose-light h2,.dark .dark\:prose-light h3,.dark .dark\:prose-light h4{color:#fff}.dark .dark\:prose-light figure figcaption{color:#a1a1aa}.dark .dark\:prose-light a code,.dark .dark\:prose-light code{color:#fff}.dark .dark\:prose-light thead{color:#fff;border-bottom-color:#a1a1aa}.dark .dark\:prose-light tbody tr{border-bottom-color:#52525b}kbd{--tw-text-opacity:1;color:rgba(39,39,42,var(--tw-text-opacity));font-size:.875rem;line-height:1.25rem;--tw-bg-opacity:1;background-color:rgba(244,244,245,var(--tw-bg-opacity));--tw-border-opacity:1;border-color:rgba(161,161,170,var(--tw-border-opacity));border-width:1px;border-radius:.125rem;--tw-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);padding-left:.25rem;padding-right:.25rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-auto{margin-top:auto;margin-bottom:auto}.mt-1{margin-top:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mr-6{margin-right:1.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-8{margin-bottom:2rem}.mb-10{margin-bottom:2.5rem}.mb-14{margin-bottom:3.5rem}.mb-16{margin-bottom:4rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.inline{display:inline}.flex{display:flex}.table{display:table}.grid{display:grid}.h-3{height:.75rem}.h-5{height:1.25rem}.min-h-screen{min-height:100vh}.w-3{width:.75rem}.w-5{width:1.25rem}.w-1\/2{width:50%}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.flex-none{flex:none}@keyframes spin{to{transform:rotate(1turn)}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes wiggle{0%,to{transform:rotate(0deg)}25%,75%{transform:rotate(15deg)}50%{transform:rotate(-15deg)}}.hover\:animate-wiggle:hover{animation:wiggle 3s ease-in-out infinite}.grid-flow-col{grid-auto-flow:column}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-items-stretch{justify-items:stretch}.self-center{align-self:center}.rounded-lg{border-radius:.5rem}.border-4{border-width:4px}.border-b-4{border-bottom-width:4px}.border-b{border-bottom-width:1px}.dark .dark\:border-b-4{border-bottom-width:4px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.hover\:border-solid:hover{border-style:solid}.dark .dark\:border-double{border-style:double}.border-blue-800{--tw-border-opacity:1;border-color:rgba(30,64,175,var(--tw-border-opacity))}.dark .dark\:border-purple-400{--tw-border-opacity:1;border-color:rgba(192,132,252,var(--tw-border-opacity))}.bg-green-800{--tw-bg-opacity:1;background-color:rgba(22,101,52,var(--tw-bg-opacity))}.dark .dark\:bg-gray-800{--tw-bg-opacity:1;background-color:rgba(39,39,42,var(--tw-bg-opacity))}.fill-current{fill:currentColor}.object-cover{object-fit:cover}.p-6{padding:1.5rem}.p-10{padding:2.5rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-24{padding-top:6rem;padding-bottom:6rem}.pr-5{padding-right:1.25rem}.pb-4{padding-bottom:1rem}.pl-5{padding-left:1.25rem}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.font-thin{font-weight:100}.font-light{font-weight:300}.font-semibold{font-weight:600}.font-bold{font-weight:700}.italic{font-style:italic}.tracking-tighter{letter-spacing:-.05em}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgba(161,161,170,var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgba(82,82,91,var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgba(63,63,70,var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgba(39,39,42,var(--tw-text-opacity))}.hover\:text-black:hover{--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity))}.hover\:text-purple-400:hover{--tw-text-opacity:1;color:rgba(192,132,252,var(--tw-text-opacity))}.group:hover .group-hover\:text-black{--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity))}.dark .dark\:text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark .dark\:text-purple-400{--tw-text-opacity:1;color:rgba(192,132,252,var(--tw-text-opacity))}.dark .dark\:text-gray-300{--tw-text-opacity:1;color:rgba(212,212,216,var(--tw-text-opacity))}.dark .dark\:text-gray-400{--tw-text-opacity:1;color:rgba(161,161,170,var(--tw-text-opacity))}.dark .dark\:hover\:text-white:hover,.dark .group:hover .dark\:group-hover\:text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.hover\:underline:hover,.underline{text-decoration:underline}*,:after,:before{--tw-shadow:0 0 transparent}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}*,:after,:before{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent}.transition-colors{transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}@media (min-width:640px){.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:py-12{padding-top:3rem;padding-bottom:3rem}.sm\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width:768px){.md\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width:1024px){.lg\:mx-4{margin-left:1rem;margin-right:1rem}.lg\:max-w-3xl{max-width:48rem}.lg\:px-16{padding-left:4rem;padding-right:4rem}.lg\:py-16{padding-top:4rem;padding-bottom:4rem}.lg\:text-base{font-size:1rem;line-height:1.5rem}.lg\:text-2xl{font-size:1.5rem;line-height:2rem}.lg\:text-8xl{font-size:5rem}}@media (min-width:1280px){.xl\:mb-8{margin-bottom:2rem}.xl\:px-0{padding-left:0;padding-right:0}}@media (min-width:1536px){.\32xl\:max-w-4xl{max-width:56rem}}</style><meta name="generator" content="Gatsby 2.32.11"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Intro to Postgre EXPLAIN | TroyProg</title><meta data-react-helmet="true" content="For most of the database performance work I have done, simply looking at the queries has been enough to identify the issue. However, I&#x27;ve been tempted by the…" name="description"/><meta data-react-helmet="true" content="Intro to Postgre EXPLAIN" property="og:title"/><meta data-react-helmet="true" content="For most of the database performance work I have done, simply looking at the queries has been enough to identify the issue. However, I&#x27;ve been tempted by the…" property="og:description"/><meta data-react-helmet="true" content="website" property="og:type"/><meta data-react-helmet="true" content="summary" name="twitter:card"/><meta data-react-helmet="true" content="Troy Rosenberg (@tmr08c)" name="twitter:creator"/><meta data-react-helmet="true" content="Intro to Postgre EXPLAIN" name="twitter:title"/><meta data-react-helmet="true" content="For most of the database performance work I have done, simply looking at the queries has been enough to identify the issue. However, I&#x27;ve been tempted by the…" name="twitter:description"/><link rel="icon" href="/favicon-32x32.png?v=b64c80c1072b59caa8281fdd06dd9925" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b64c80c1072b59caa8281fdd06dd9925"/><link href="https://fonts.googleapis.com/css2?family=Chewy&amp;display=swap" rel="stylesheet"/><link as="script" rel="preload" href="/webpack-runtime-bbbb8b0884aed38140e0.js"/><link as="script" rel="preload" href="/framework-741ade27086b2708e961.js"/><link as="script" rel="preload" href="/styles-55e82d6ff5158c00b714.js"/><link as="script" rel="preload" href="/app-58da2f987d5d0aa08217.js"/><link as="script" rel="preload" href="/5265e14917706ae774eeedcf8740d96f07c711c9-27c52e43e6f8159c1a17.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-tsx-0bd3f76b3b3ee9c184dc.js"/><link as="fetch" rel="preload" href="/page-data/2021/09/intro-to-postgres-explain/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>!function(e,a,t){function o(e){document.body.classList.add(e?"dark":"light"),document.body.classList.remove(e?"light":"dark")}var r=window.matchMedia("(prefers-color-scheme: dark)"),d="(prefers-color-scheme: dark)"===r.media,s=null;try{s=localStorage.getItem("darkMode")}catch(e){}var c=null!==s;if(c&&(s=JSON.parse(s)),c)o(s);else if(d)o(r.matches),localStorage.setItem("darkMode",r.matches);else{var l=document.body.classList.contains("dark");localStorage.setItem("darkMode",JSON.stringify(l))}}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="dark:bg-gray-800 dark:text-white"><nav class="flex items-center justify-between flex-wrap bg-green-800 px-6 py-12 mb-5 text-white dark:bg-gray-800 dark:border-b-4 dark:border-double dark:border-purple-400 dark:text-purple-400"><div class="flex flex-no-shrink"><a class="font-semibold text-4xl tracking-tighter hover:underline hover:animate-wiggle" href="/">TroyProg</a></div><div class="justify-end flex mr-4 text-xl items-center"><a class="mr-6 hover:text-black dark:hover:text-white" href="/talks">Talks</a><a class="mr-6 hover:text-black dark:hover:text-white" href="/blog">Blog</a><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" color="white" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" style="cursor:pointer;transform:rotate(90deg)"><mask id="circle-mask-0"><rect x="0" y="0" width="100%" height="100%" fill="white"></rect><circle style="cx:100%;cy:0%" r="9" fill="black"></circle></mask><circle cx="12" cy="12" fill="white" style="r:5px" mask="url(#circle-mask-0)"></circle><g stroke="currentColor" style="opacity:1"><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></g></svg></div></nav><main class="min-h-screen mx-auto px-4 py-8 max-w-2xl sm:px-6 sm:py-12 lg:max-w-3xl lg:py-16 2xl:max-w-4xl xl:px-0"><article class="prose prose-sm sm:prose lg:prose-lg xl:prose-xl dark:prose-light"><h1>Intro to Postgre EXPLAIN</h1><div><p>For most of the database performance work I have done, simply looking at the queries has been enough to identify the issue. However, I've been tempted by the additional information that the <a href="https://www.postgresql.org/docs/current/using-explain.html" target="_blank" rel="nofollow noopener noreferrer"><code>EXPLAIN</code></a> function can provide. Unfortunately, I didn't understand the output of these queries and would inevitably go back to other avenues when debugging issues. I decided to change that and learn how to work with <code>EXPLAIN</code>.</p>
<p>Please note, while other database management systems provide <code>EXPLAIN</code> functionality, it is not SQL standard. I will be focusing on how it works with PostgreSQL since that is what I use most often; you will want to read the documentation for your DBMS of choice if you work with a different system.</p>
<h2 id="what-is-explain" style="position:relative;"><a href="#what-is-explain" aria-label="what is explain permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is EXPLAIN</h2>
<p>To start, <code>EXPLAIN</code> is a SQL function that, when given a query, will return the database's plan of how to fetch the data. It does <strong>not</strong> actually perform the query you pass into it.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">EXPLAIN(</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">*</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> my_table</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                            QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">------------------------------------------------------------------</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> my_table  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1572</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">row</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>You can think of the query plan as map directions. It includes the steps you will be taking to get your requested data from the database.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 359px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/07a59a002f3d157a5b2cb59210d694e5/f5eb6/real_directions.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 145.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAADLElEQVRIx6VVW2sTURDe/6T1vbaoKN5efBMEUfA3WN+qeKmKLyJprej/sBdBKBQMppc0bWmT5tJkc9vsLZvsJp/nO9sTNukqjT0wmTlzZme/mW/2RJt6buPaKxuXhb760saN1zZuvbVx552w39i4+z60bwvfFXE+OWvJ2L+Jdl0kuP/RwfQLG/c+OHjwycGjeRcPE6E8XnDxZDG0GTsl4qb/IdrEjIULT01cembKt9+cEwjnQtRES5S0J2dtEWeJuFAmZkzw2VCbuEgt/NrCcgdff/TwZTXA4kqAxFIXiWU/1AO7g8T3DhhLmV/ysLjq4/NK90T7+PYT8kwDemh5Otp+E67fAPptwLcBeOJI2IEjbB+jq+sa4sw9EQe1cg7MpXV8H8lCGhk9i19CV+t1VCpVNI0W9GoN+UIRpmWj1xfPiZ8g6MuEhWIJ9YaBWr0ppIFk8jfankDY6/XgWg5s04IhAppNEVCrwTRNtFottNttmaDf7w/QRe3RpQVBIJDo0HVdvLGOarWKRqOBukBKXalUYFlWbNKoEBi1xh/P8yQSpbvd7ql9XJI40eLgj/oUgrOIxrcfHR0hn8/j4OAA5XI5Fs1Zl0yYyWSws7ODzc1NFItFeaB6Moouzqf8MiENEtPpdHDeJXtIgyzyLSyZ5edyOWkXCgUp9HGfzWblnlWoPVt1eHgIx3FChPxxXVcm5JgYhiGFY8NZVPOo/LTp47xS6ONzqsIBy6oP7Kkvvp5xiDhVMrMzYalUkl8Jh5maw07WiYCaiDj4PGcshZUonxybKClkeW9vD6lUCul0GltbW9jd3ZU29f7+vjxjHKdifX1dnm1sbOD4+Hi4ZDU+bDD7wj6xtySMyLhn49lD+mzblnHKR1CDhEp4wMBzjU2UFJbN75dvpR5nDV0Oilk2lgSwPJLAvnDm6CdB3FO4p6gYxg8hZDKiSiaT2N7elmRQk0E+QBZpk3na1FE7er0NSmZSBhAJtZr8cfo3+FLUYg/JLJORNfaFWtnR/ah/qIdMpAihjl5ZZ7lUhy5YJmDvKGtra3KAo4nGXfJPiiyxsZTodf9fCOOaG0027voDyRF946m3OaAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="map_directions"
        title="map_directions"
        src="/static/07a59a002f3d157a5b2cb59210d694e5/f5eb6/real_directions.png"
        srcset="/static/07a59a002f3d157a5b2cb59210d694e5/fac75/real_directions.png 125w,
/static/07a59a002f3d157a5b2cb59210d694e5/63868/real_directions.png 250w,
/static/07a59a002f3d157a5b2cb59210d694e5/f5eb6/real_directions.png 359w"
        sizes="(max-width: 359px) 100vw, 359px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>However, you will not be getting information about the distance before you turn left or how long you will be on a highway. Instead, you will get information about the steps involved in fetching your data and how much work will be done along the way.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 361px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ffb0632836fd31609775da118f860250/39d76/explain_directions.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 114.39999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRUlEQVQ4y5VTy27TQBT1NyGVBTtQAbFgwYIdov9RUYkFFCiBig39kDYSHwASRMCORUQU5d3YTpzEHsfx8zBnIluOyzTNSMfnznjmzn2cMe69Frj/RoD8QPKjdwKPa2tw7e4rT/FNYdDBwZmP/WOBp598PD9b49lnHw/fCrW+C4zbRx72jlyF/WMPT04F7rz0cOvQA//p4W7M916s58b7ixU+1CN8rMc4OQ8lItQuQnD95FyHADV5plYPC5x+SdUZA0gRpwJh4gIIEWdC8baRRnJfEgCZ3Jut4DqmXE1gBFGEn70/+Nr+hb9WF9/av9G2B8hSIIqTAkmaKdCWhMFwBNOyMZk6Ct9/NOAJH0aSJFj6S9imDUf+8BYuxuMxbFtunkxgmmbBlmVhNpshCAJt5EaaprDk4f5ggPl8jtFohMvxJbIs20xR7iPK67SrUA7paDqdFsyIaPu+D8/zlKPqqF64EaEQQjlYLBZwHEfZTM11XcUsiy6iKxHqbqpGk6e8DUYkuzyQ9et2u+j3+0WdtkHblDiO0ev1lMNOp4ObDm3K5U2UA+vIRrAhtFlfzsmsKcG5tsv8rFYrhGGooiRYAuqOTBkNh0OlTWbSarXUHm3KeT3IdErnLENukxktIyQ4L+uyjCJlyoLIpVNOmTb/8RKC9rWyoUPeSuTNYbeZMpnPbZdRNEW96eVSgc1hhGU7j5Yy0+nyirC5OU+LXJ2Tt+lU6bDRaKDZbF77RndKOa9hWVs6nf3vUu1bLh8op1Y9WN1TPvsPF4myiUMNmf4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="explain_directions"
        title="explain_directions"
        src="/static/ffb0632836fd31609775da118f860250/39d76/explain_directions.png"
        srcset="/static/ffb0632836fd31609775da118f860250/fac75/explain_directions.png 125w,
/static/ffb0632836fd31609775da118f860250/63868/explain_directions.png 250w,
/static/ffb0632836fd31609775da118f860250/39d76/explain_directions.png 361w"
        sizes="(max-width: 361px) 100vw, 361px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Our simple example above only has one step in our directions list – a sequential scan on <code>my_table</code>. Even for this single step, we get a lot of data about what will be happening.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> my_table  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1572</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>Let's break down what is involved in a row from the query planner.</p>
<h2 id="reading-from-the-table" style="position:relative;"><a href="#reading-from-the-table" aria-label="reading from the table permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reading from the Table</h2>
<p>Our query plan indicates which table we will be reading data from and the method used to read said data.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> my_table</span></span></span></code></pre>
<p>In this example, we will be doing a sequential scan on <code>my_table</code>. A sequential scan requires reading each row in the table, one by one. Check out <a href="https://severalnines.com/database-blog/overview-various-scan-methods-postgresql" target="_blank" rel="nofollow noopener noreferrer">this post</a> for more information on the different types of table scans.</p>
<h2 id="statistics-tuple" style="position:relative;"><a href="#statistics-tuple" aria-label="statistics tuple permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Statistics Tuple</h2>
<p>After the scan information, we have a tuple (<code>()</code>) of statistics. This includes <code>cost</code>, <code>rows</code>, and <code>width</code>.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1572</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<h3 id="cost" style="position:relative;"><a href="#cost" aria-label="cost permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cost</h3>
<p>First in our tuple is <code>cost</code>.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span></span></span></code></pre>
<p>The <code>cost</code> contains two numbers; <code>0.00</code> and <code>10.50</code> in this case.</p>
<h4 id="start-up" style="position:relative;"><a href="#start-up" aria-label="start up permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Start-up</h4>
<p>The first number is the <code>estimated start-up cost</code>; this is the cumulative cost <em>before</em> this step in the plan will run. In our example, the start-up cost is <code>0.00</code>. A start-up cost of <code>0.00</code> indicates that the step runs at the beginning of the query execution. Since we only have a single step in our example, it makes sense intuitively that it will run at the beginning of execution.</p>
<p>Let's take a look at a slightly more complex query. In this example, our <code>WHERE</code> clause is filtering based on a subquery.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">EXPLAIN(</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">*</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">WHERE</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> author </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">IN</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">    </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> email</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">    </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">    </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">WHERE</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> updated_at </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;2021-01-01&#39;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">date</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">);</span></span></span></code></pre>
<p>This results in a plan with multiple steps.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                                 QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">-----------------------------------------------------------------------------</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Join</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">84</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">22</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">49</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Cond: ((</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">chat_room_messages</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">author</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">text</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> (</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">users</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">email</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">text</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">11</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">30</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">130</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">         </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">               </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Filter</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: (updated_at </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;2021-01-01&#39;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">date</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>As we said before, when the <code>estimated start-up cost</code> is <code>0.00</code>, it is an indication that that step is run at the beginning of execution. The plan above has <strong>two</strong> rows with <code>0.00</code> for the <code>estimated start-up cost</code>.</p>
<pre class="grvsc-container grvsc-has-line-highlighting tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                                 QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">-----------------------------------------------------------------------------</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Join</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">84</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">22</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">49</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Cond: ((</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">chat_room_messages</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">author</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">text</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> (</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">users</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">email</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">text</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">11</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">30</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">130</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">         </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">               </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Filter</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: (updated_at </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;2021-01-01&#39;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">date</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>We have the sequential scan on the <code>chat_room_messages</code> table</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">11</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">30</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">130</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>and we also have a sequential scan on the <code>users</code> table</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>This is an indication we will start these two steps at the same time and run them in <strong>parallel</strong>.</p>
<h4 id="total" style="position:relative;"><a href="#total" aria-label="total permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Total</h4>
<p>The second number in <code>cost</code> is the <code>estimated total cost</code>, the accumulated cost <em>after</em> the step completes.</p>
<p>Together, the numbers in <code>cost</code> give us an idea of when the step will start and when it will end.</p>
<h4 id="nesting" style="position:relative;"><a href="#nesting" aria-label="nesting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nesting</h4>
<p>Let's use what we know about <code>cost</code> to revisit our complex query plan.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="10"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">    </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Filter</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: (updated_at </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;2021-01-01&#39;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">date</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>Not only does this example have multiple steps, but it also has nested steps.</p>
<p>To understand what runs first, we will rely on our knowledge that an <code>estimated start-up cost</code> of <code>0.00</code> means a step is run when execution starts. For the query above, <code>Seq Scan on users</code> has an <code>estimated start-up cost</code> of <code>0.00</code>; this means it runs first. It also has an <code>estimated total cost</code> of <code>10.62</code>.</p>
<p>Moving onto the <code>Hash</code> line above, we see that its <code>estimated start-up cost</code> is <code>10.62</code>. This means that as soon as the <code>seq scan on users</code> completes, it will move on to the <code>Hash</code> step.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>Through our understanding of the <code>cost</code> attribute, we have been able to piece together an understanding for one of the fundamental aspects of a query plan's layout - that it represents a tree-like structure where the leaf nodes (the most nested elements) are run first.</p>
<p>You may be wondering about the <code>Filter</code> line. Note that it isn't prefixed with an <code>-></code>; this means that it isn't a separate step in our plan. Instead, it is a part of our scan on the <code>users</code> table. This means that <code>Seq Scan on users</code> is still our most nested step.</p>
<h4 id="how-much" style="position:relative;"><a href="#how-much" aria-label="how much permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How Much?</h4>
<p>So far, we have covered what the two types of cost represent but not what the values represent. While we've talked about the <code>cost</code> as a sort of time-like measurement, it is not a representation of time. The unit used for <code>cost</code> is configurable but defaults to representing sequential page fetches. However, the units are arbitrary; what matters is the <em>relative</em> costs. From the <a href="https://www.postgresql.org/docs/current/runtime-config-query.html#RUNTIME-CONFIG-QUERY-CONSTANTS" target="_blank" rel="nofollow noopener noreferrer">postgreSQL documentation</a></p>
<blockquote>
<p>The cost variables described in this section are measured on an arbitrary
scale. Only their relative values matter, hence scaling them all up or down by
the same factor will result in no change in the planner's choices</p>
</blockquote>
<p>So while you may want to track the cost in terms of sequential page fetches or base it on the CPU processing a tuple, what seems to be more important is comparing the numbers relative to other parts of the query plan (and other query plans).</p>
<h3 id="rows" style="position:relative;"><a href="#rows" aria-label="rows permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rows</h3>
<p>The next part of our tuple is <code>rows</code>.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="12"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span></span></span></code></pre>
<p><code>rows</code> represents the <strong>estimated</strong> number of rows that will be returned for a given step. Since <code>EXPLAIN</code> will not run the query, it cannot specify exact numbers. Instead, it uses statistics gathered from the <a href="https://www.postgresql.org/docs/current/sql-analyze.html" target="_blank" rel="nofollow noopener noreferrer"><code>ANALYZE</code></a> function and stored in a <a href="https://www.postgresql.org/docs/current/catalog-pg-statistic.html" target="_blank" rel="nofollow noopener noreferrer">special table</a>. Despite being an estimation, it can provide a ballpark of how much data you may be dealing with and how impactful a filter may be.</p>
<h3 id="width" style="position:relative;"><a href="#width" aria-label="width permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Width</h3>
<p>The final element of the query plan tuple that we are going to cover is <code>width</code>.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> my_table  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">50</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1572</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>The <code>width</code> is the average width of the rows in bytes. More than just the number of columns selected, it gives you an idea of the average amount of data stored in those columns. Like <a href="#rows">rows</a>, it is an estimation based on the statistics table.</p>
<p>While you would expect that selecting fewer columns results in less data, <code>EXPLAIN</code> can help reveal which columns have the largest memory footprint. When we perform a <code>SELECT *</code> we see a much larger width than if we only <code>SELECT id</code>.</p>
<pre class="grvsc-container grvsc-has-line-highlighting tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="14"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">-- SELECT * has a width of 580</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"># EXPLAIN(</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">*</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                              QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">-----------------------------------------------------------------------</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">11</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">30</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">130</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">row</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">-- SELECT id has a width of 8</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"># EXPLAIN(</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> id </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                             QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">---------------------------------------------------------------------</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">11</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">30</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">130</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">8</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">row</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<h2 id="analyze" style="position:relative;"><a href="#analyze" aria-label="analyze permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Analyze</h2>
<p>As previously mentioned, <code>EXPLAIN</code> will not run the query you pass in. This is why we've been dealing with estimations so far. If you want to get more accurate performance information, you can use <code>EXPLAIN ANALYZE</code>. With <code>ANALYZE</code>, the query will <em>actually</em> be run, allowing the query plan to include information about run time, the actual number <code>row</code>s, and more.</p>
<p>Let's take a look at one of our previous queries and include an <code>ANALYZE</code>.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="15"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">EXPLAIN ANALYZE(</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">*</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">WHERE</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> author </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">IN</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> (</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">      </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SELECT</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> email </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">FROM</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">WHERE</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> updated_at </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;2021-01-01&#39;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">date</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  )</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                                                       QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">------------------------------------------------------------------------------------------------------------------------</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Join</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">84</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">22</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">49</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">) (actual </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">time</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">028</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">033</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> loops</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Cond: ((</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">chat_room_messages</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">author</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">text</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> (</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">users</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-5 grvsc-tJmpaV-5">email</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">text</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">11</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">30</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">130</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">580</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">) (actual </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">time</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">007</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">008</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> loops</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Hash</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">) (actual </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">time</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">009</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">009</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">2</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> loops</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">     Buckets: </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1024</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Batches</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Memory Usage: 9kB</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">     </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Seq Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> users  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">00</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">10</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">62</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">17</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">516</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">) (actual </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">time</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">005</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">005</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">2</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> loops</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">       </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Filter</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: (updated_at </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;2021-01-01&#39;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">::</span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">date</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Planning </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Time</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">104</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> ms</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Execution </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Time</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">050</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> ms</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">9</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>While the overall plan is the same as before, we now have additional information next to our <code>cost</code>, <code>rows</code>, <code>width</code> tuple. This new tuple gives us our actual runtime statistics.</p>
<p>In addition to our arbitrary units for <code>cost</code>, we now get <code>time</code> (in milliseconds). We also get to see the actual number of <code>rows</code> returned. We can see some steps where the planner was close (17 versus 10) and others less so (130 versus 10). These examples come from a small test database that is not getting regular <code>ANALYZE</code> runs; as a result, the previously mentioned statistics table used for estimations will be less helpful.</p>
<p>We also have new information about our hash function (number buckets, amount of memory used) and the overall run time (planning versus actual execution).</p>
<p><code>ANALYZE</code> provides valuable information on top of only using <code>EXPLAIN</code>. However, because it does require running the query, it will take longer. This extended runtime may make it difficult to use repeatedly for large queries.</p>
<h2 id="caveats" style="position:relative;"><a href="#caveats" aria-label="caveats permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Caveats</h2>
<h3 id="matching-environments" style="position:relative;"><a href="#matching-environments" aria-label="matching environments permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Matching Environments</h3>
<p>The biggest caveat I took away from the documentation is that query plans are specific to the amount of data in the database. As a result, running an <code>EXPLAIN</code> locally with a small dataset may not reveal the steps the query planner will take on your production system.</p>
<p>An example of how the planner will choose different routes is index utilization. With a small enough table, the query planner may prefer a sequential scan over leveraging an index. As a result, you may not be able to confirm the usage of a newly added index in your smaller development database.</p>
<p>From what I can tell, the query plan is impacted primarily by the amount of data and not other factors like the underlying hardware. As a result, you should be able to get a better idea of production-like characteristics if you load your local database with enough data (if feasible). However, like many performance tuning tasks, you will ultimately want to validate on production.</p>
<h3 id="reading-and-writing" style="position:relative;"><a href="#reading-and-writing" aria-label="reading and writing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reading and Writing</h3>
<p>Another thing to note is that plans focus on reading and do not include information about updates. In the example below, we run <code>EXPLAIN</code> on an <code>UPDATE</code> command.</p>
<pre class="grvsc-container tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="16"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">EXPLAIN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">UPDATE</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">SET</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> body </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-7 grvsc-tJmpaV-7">&#39;this is an updated message&#39;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">WHERE</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> id </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                                                QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">----------------------------------------------------------------------------------------------------------</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Update</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">14</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">8</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">16</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">586</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Index Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">using</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages_pkey </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">14</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">8</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">16</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">586</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">         Index Cond: (id </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">3</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<p>The query plan includes information about scanning the table but does not include any <code>cost</code> information for performing the update itself.</p>
<p>With <code>EXPLAIN ANALYZE</code>, the <code>actual time</code> shows a gap between the scan and the overall runtime, so you may be able to estimate how long the `UPDATE is taking.</p>
<pre class="grvsc-container grvsc-has-line-highlighting tomorrow grvsc-ps-tJmpaV" data-language="sql" data-index="17"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">                                                                     QUERY PLAN</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-3 grvsc-tJmpaV-3">----------------------------------------------------------------------------------------------------------------------------------------------------</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Update</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">14</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">8</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">16</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">586</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">) (actual </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">time</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">055</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">055</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> loops</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">   </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">-&gt;</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">  Index Scan </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">using</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages_pkey </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">on</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> chat_room_messages  (cost</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">14</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">8</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">16</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> width</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">586</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">) (actual </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">time</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">021</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">..</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">022</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> loops</span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">         Index Cond: (id </span><span class="grvsc-t564vY-6 grvsc-tJmpaV-6">=</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">1</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Planning </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Time</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">064</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> ms</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> Execution </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">Time</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">: </span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">0</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">.</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">076</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> ms</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">(</span><span class="grvsc-t564vY-4 grvsc-tJmpaV-4">5</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1"> </span><span class="grvsc-t564vY-11 grvsc-tJmpaV-11">rows</span><span class="grvsc-t564vY-1 grvsc-tJmpaV-1">)</span></span></span></code></pre>
<h2 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>Hopefully, this introduction will empower you to leverage the <code>EXPLAIN</code> function. If you find a confusing query plan or struggle to know how to leverage the query plan to do something actionable, remember this quote from the <a href="https://www.postgresql.org/docs/current/using-explain.html" target="_blank" rel="nofollow noopener noreferrer">documentation</a>:</p>
<blockquote>
<p>Plan-reading is an art that requires some experience to master</p>
</blockquote>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .tomorrow {
    background-color: #FFFFFF;
    color: #4D4D4C;
  }
  .tomorrow .grvsc-t564vY-1 { color: #4D4D4C; }
  .tomorrow .grvsc-t564vY-11 { color: #8959A8; }
  .tomorrow .grvsc-t564vY-6 { color: #3E999F; }
  .tomorrow .grvsc-t564vY-3 { color: #8E908C; }
  .tomorrow .grvsc-t564vY-4 { color: #F5871F; }
  .tomorrow .grvsc-t564vY-7 { color: #718C00; }
  .tomorrow .grvsc-t564vY-5 { color: #666969; }
  .tomorrow .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));
  }
  body.dark .grvsc-ps-tJmpaV {
    background-color: #1D1F21;
    color: #C5C8C6;
  }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-1 { color: #C5C8C6; }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-11 { color: #B294BB; }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-6 { color: #8ABEB7; }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-3 { color: #969896; }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-4 { color: #DE935F; }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-7 { color: #B5BD68; }
  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-5 { color: #CED1CF; }
  body.dark .grvsc-ps-tJmpaV .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></article><div class="flex justify-end text-xs md:text-sm text-gray-600 font-light italic mb-2 dark:text-gray-400"><time dateTime="September 30, 2021">September 30, 2021</time></div><hr class="mb-3"/><div class="text-center font-light text-sm md:text-sm text-gray-600 italic mb-10 xl:mb-8 dark:text-gray-300">Notice something wrong? Please consider<!-- --> <a href="https://github.com/tmr08c/tmr08c.github.io/tree/develop/content/blog//2021/09/intro-to-postgres-explain/index.md" target="_blank" rel="noopener noreferrer" class="underline hover:text-purple-400">proposing an edit</a> <!-- -->or<!-- --> <a href="https://github.com/tmr08c/tmr08c.github.io/issues" target="_blank" rel="noopener noreferrer" class="underline hover:text-purple-400">opening an issue</a>.</div><div class="text-gray-600 grid grid-flow-col grid-cols-3 justify-items-stretch align-middle items-center text-xs sm:text-sm lg:text-base dark:text-gray-300"><a rel="prev" class="flex flex-row hover:text-purple-400" href="/2021/08/adding-randomness-to-test-data/"><span class="self-center flex-none mr-2">←</span><span>Adding Randomness to Test Data</span></a><a class="text-center hover:text-purple-400" href="/blog">- All Posts -</a><a rel="next" class="flex flex-row justify-right hover:text-purple-400" href="/2021/10/using-mix-install-for-benchmarks/"><span class="text-right">Using Mix.install for Benchmarks</span><span class="self-center flex-none ml-2">→</span></a></div></main><div class="flex justify-between py-4 px-1 bg-green-800 text-white dark:bg-gray-800 dark:text-purple-400"><div class="flex flex-col pl-5 my-auto"><a class="hover:text-black dark:hover:text-white" href="/">Home</a><div class="group"><a href="https://github.com/tmr08c/" target="blank" class="group-hover:text-black dark:group-hover:text-white"><svg viewBox="0 0 16 16" class="w-5 h-5 inline fill-current"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg><span class="text-sm ml-1 group-hover:text-black dark:group-hover:text-white">@tmr08c</span></a></div></div><div class="flex flex-col items-end pr-5 my-auto"><a class="hover:text-black dark:hover:text-white" href="/talks">Talks</a><div class="flex items-center"><a class="mr-3 hover:text-black dark:hover:text-white" href="/rss.xml"><svg viewBox="0 0 461.432 461.432" class="h-3 w-3 fill-current"><defs></defs><path d="M125.896 398.928c0 33.683-27.308 60.999-61.022 60.999-33.684 0-61.006-27.316-61.006-60.999 0-33.729 27.322-61.038 61.006-61.038 33.714 0 61.022 27.308 61.022 61.038zM0 229.636c0 8.441 6.606 15.379 15.036 15.809 60.318 3.076 100.885 25.031 138.248 62.582 36.716 36.864 60.071 89.759 64.082 137.769.686 8.202 7.539 14.524 15.77 14.524h56.701c4.344 0 8.498-1.784 11.488-4.935a15.852 15.852 0 004.333-11.729c-8.074-158.152-130.669-278.332-289.013-286.23a15.846 15.846 0 00-11.709 4.344A15.848 15.848 0 000 173.247v56.389z"></path><path d="M0 73.411c0 8.51 6.713 15.482 15.216 15.819 194.21 7.683 350.315 161.798 358.098 355.879.34 8.491 7.32 15.208 15.818 15.208h56.457c4.297 0 8.408-1.744 11.393-4.834a15.857 15.857 0 004.441-11.552C453.181 199.412 261.024 9.27 16.38 1.121A15.844 15.844 0 004.838 5.568 15.842 15.842 0 000 16.954v56.457z"></path></svg></a><a class="hover:text-black dark:hover:text-white" href="/blog">Blog</a></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2021/09/intro-to-postgres-explain/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f89c5f37b65dee400010.js"],"app":["/app-58da2f987d5d0aa08217.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-eec87b46525379af865f.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-c80cf52d870552117fe7.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-f80cf169c86e0405b6c0.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-f1d7dccc5989efa5fe38.js"],"component---src-pages-talks-tsx":["/component---src-pages-talks-tsx-1357f575ab66bbcfcbd0.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx-0bd3f76b3b3ee9c184dc.js"]};/*]]>*/</script><script src="/polyfill-f89c5f37b65dee400010.js" nomodule=""></script><script src="/component---src-templates-blog-post-tsx-0bd3f76b3b3ee9c184dc.js" async=""></script><script src="/5265e14917706ae774eeedcf8740d96f07c711c9-27c52e43e6f8159c1a17.js" async=""></script><script src="/app-58da2f987d5d0aa08217.js" async=""></script><script src="/styles-55e82d6ff5158c00b714.js" async=""></script><script src="/framework-741ade27086b2708e961.js" async=""></script><script src="/webpack-runtime-bbbb8b0884aed38140e0.js" async=""></script></body></html>