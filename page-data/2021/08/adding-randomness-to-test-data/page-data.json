{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2021/08/adding-randomness-to-test-data/","result":{"data":{"site":{"siteMetadata":{"repsitory":"https://github.com/tmr08c/tmr08c.github.io"}},"markdownRemark":{"id":"dde6aeb0-b515-5c06-a5c7-ee5c81cfd7f2","excerpt":"While tests can help improve the robustness of our applications, there is a limitation inherent to example-based testing - the sample data we use as examples inâ€¦","html":"<p>While tests can help improve the robustness of our applications, there is a limitation inherent to example-based testing - the sample data we use as examples in our tests. In this post, we will cover reducing some of these limitations by adding randomness to our tests. The examples in the post will be using <a href=\"https://github.com/thoughtbot/factory_bot\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FactoryBot</a>, but similar concepts are applicable with other testing tools such as <a href=\"https://guides.rubyonrails.org/testing.html#the-low-down-on-fixtures\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Rails' fixtures</a>.</p>\n<h2 id=\"sequences\" style=\"position:relative;\"><a href=\"#sequences\" aria-label=\"sequences permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sequences</h2>\n<h3 id=\"inline\" style=\"position:relative;\"><a href=\"#inline\" aria-label=\"inline permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Inline</h3>\n<p>A commonly used form of randomness in FactoryBot is <a href=\"https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md#global-sequences\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">sequences</a>. When defining a factory, you can use the <code>sequence</code> method to have a block of code run when generating an attribute (as opposed to a hard-coded value). These are known as <a href=\"https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md#inline-sequences\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">inline sequences</a>.</p>\n<p>You may already be using inline sequences to avoid triggering uniqueness constraints. For example, if a <code>User</code> record requires a unique <code>username</code> you can use a sequence to append an ever-increasing number to the end of the generated <code>username</code>.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">factory </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:user</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  usename { </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;user-</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">#{</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">n</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">}</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span></code></pre>\n<p>Now, anytime we create a user, we will have a unique <code>username</code> attribute:</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">3</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.times { </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">puts</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.build(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:user</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">) }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">User</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@username</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;user-1&quot;</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">User</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@username</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;user-2&quot;</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">User</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@username</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;user-3&quot;</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span></code></pre>\n<h3 id=\"global\" style=\"position:relative;\"><a href=\"#global\" aria-label=\"global permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Global</h3>\n<p>FactoryBot also supports <a href=\"https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md#global-sequences\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">global sequences</a>. These are named sequences that you can reference across factories, providing globally unique, valid data between models and attributes. An example of this may be generating sample email addresses. However, global sequences can generate any type of data. For example, at work, we have a simple <code>string</code> sequence that returns the string, \"string,\" with a number appended.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">sequence </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:string</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> |</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">n</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">|</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string </span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">#{</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">n</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">}</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">factory </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:user</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  first_name { generate(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:string</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">) }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  last_name { generate(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:string</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">) }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">User</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@first_name</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string 1&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@last_name</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string 2&quot;</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">User</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@first_name</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string 3&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@last_name</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string 4&quot;</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">User</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@first_name</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string 5&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@last_name</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;string 6&quot;</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span></code></pre>\n<p>While this does not provide realistic data, it does add randomness to the objects you are creating. It also signals to the team that we do not care about the value of an attribute and simply want <em>a</em> string value.</p>\n<h3 id=\"randomness\" style=\"position:relative;\"><a href=\"#randomness\" aria-label=\"randomness permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Randomness</h3>\n<p>Sequences provide an easy way to introduce randomness into your system. Every time your tests run in a <a href=\"https://relishapp.com/rspec/rspec-core/docs/command-line/order\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">different order</a>, your factory has a chance of generating a value at a different point in the sequence, resulting in slightly different attributes. This small amount of variation provides an easy starting point for introducing randomness into your system.</p>\n<p>While easy to get started with, sequences are limited. In the next section, we will explore introducing more variation in our values.</p>\n<h2 id=\"sampling-options\" style=\"position:relative;\"><a href=\"#sampling-options\" aria-label=\"sampling options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sampling Options</h2>\n<p>Another form of randomness I like to use comes into play for attributes with a set number of valid values (i.e., <a href=\"https://en.wikipedia.org/wiki/Enumerated_type\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code>enums</code></a>. Rather than having your factory always set the attribute with the same value, we can use a random option when generating a new instance.</p>\n<p>Let's imagine a <code>class</code> representing a pizza, and the pizza can have toppings. Our restaurant only has a set number of toppings, so we have a constant that lists the available choices.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">class</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Pizza</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">AVAILABLE_TOPPINGS</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">%</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">w[</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    bacon</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    jalapenos</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    onions</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    pepperoni</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    peppers</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    pineapple</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">attr_accessor</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:toppings</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">def</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">initalize</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">toppings</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Array</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(toppings)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span></code></pre>\n<p>In our factory, we can choose a random entry from our list of available toppings using Ruby's <a href=\"https://ruby-doc.org/core/Array.html#method-i-sample\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code>Array#sample</code></a> method.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.define </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  factory </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    toppings { </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">AVAILABLE_TOPPINGS</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.sample }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span></code></pre>\n<p>This results in a different topping every time we use our factory to create a new pizza.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">3</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.times { </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">puts</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.build(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">).inspect }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;jalapenos&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;onions&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pineapple&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span></code></pre>\n<h3 id=\"random-amount-of-random\" style=\"position:relative;\"><a href=\"#random-amount-of-random\" aria-label=\"random amount of random permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Random Amount of Random</h3>\n<p>Often, when dealing with <code>enum</code>-like data, your attribute will be a single-value. In these cases, <code>Array#sample</code> is all you will need. However, in our pizza example, we can have no toppings, one topping, or many toppings. A limitation of our current factory is that it will always generate a <code>Pizza</code> with a single topping.</p>\n<p>Herein lies an issue with example-based testing - it relies on the examples you remember to include. We may not think to test zero, one, and many toppings, and, even if we do, we may only do it in a single scenario. What if, instead, the factory always returned a random number of random toppings? That would add some variability to <strong>all</strong> tests that use this factory.</p>\n<p>We can update the <code>toppings</code> attribute in our factory to build a random number of pizza toppings - some number between no toppings and the total number of available toppings.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.define </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  factory </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    toppings </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Array</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">new</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">rand</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">0</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">..</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">AVAILABLE_TOPPINGS</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.size)) </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">        </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">AVAILABLE_TOPPINGS</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.sample</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span></code></pre>\n<p><code>Array.new(rand(0..Pizza::AVAILABLE_TOPPINGS.size))</code> will generate a random number between zero and the number of available toppings (<code>rand(0..Pizza::AVAILABLE_TOPPINGS.size)</code>) and create an <code>Array</code> of that size. We then leverage <a href=\"https://ruby-doc.org/core/Array.html#method-c-new\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code>Array#new</code></a>'s block argument to run some code to generate each entry in our new array. For generating entries, we will use the same code we had before, <code>Pizza::AVAILABLE_TOPPINGS.sample</code>.</p>\n<p>Now, when we generate our <code>Pizza</code>s, we will have a different number of different toppings each time.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">3</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.times { </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">puts</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.build(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">).inspect }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;bacon&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pepperoni&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pineapaple&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;bacon&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;onions&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span></code></pre>\n<h3 id=\"valid-amount-of-random\" style=\"position:relative;\"><a href=\"#valid-amount-of-random\" aria-label=\"valid amount of random permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Valid Amount of Random</h3>\n<p>Something to be careful of when dealing with randomness is that you could end up with invalid data. As shown below, our current factory doesn't do anything to protect against having multiple entries of the same topping.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">3</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.times { </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">puts</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.build(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">).inspect }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;bacon&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;onions&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;onions&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;bacon&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;jalapenos&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pineapaple&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span></code></pre>\n<p>Depending on your model, this may or may not matter (maybe people can order a quadruple serving of peppers if they want). Be warned - if you're not careful, adding randomness to your tests can result in invalid objects. Sometimes, these invalid objects can help you catch bugs and improve your validations. Unfortunately, it may also be the case that many forms of invalid data do not result in a test failure. In these cases, you will have passing tests with invalid data, not an ideal combination.</p>\n<p>For our pizza example, let's say that we want our factory to result in a unique list of toppings. To do this, we can update how we create the toppings list in our factory to leverage a <a href=\"https://www.rubyguides.com/2018/08/ruby-set-class/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code>Set</code></a>.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.define </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  factory </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    toppings </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      </span><span class=\"grvsc-t564vY-3 grvsc-tJmpaV-3\"># Set will make sure we have unique list</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      topping_set </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Set</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">new</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      topping_count </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">rand</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">0</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">..</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">AVAILABLE_TOPPINGS</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.size)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">while</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> topping_set.size </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> topping_count</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">        topping_set </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;&lt;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">AVAILABLE_TOPPINGS</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.sample</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">      topping_set.to_a</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">end</span></span></span></code></pre>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">3</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.times { </span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">puts</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">FactoryBot</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.build(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">:pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">).inspect }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;onions&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pineapaple&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;bacon&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pineapaple&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;peppers&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;bacon&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;pepperoni&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;onions&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;jalapenos&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&lt;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Pizza</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">@toppings</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">[]</span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">&gt;</span></span></span></code></pre>\n<h2 id=\"delegating-randomness\" style=\"position:relative;\"><a href=\"#delegating-randomness\" aria-label=\"delegating randomness permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Delegating Randomness</h2>\n<p>The final suggestion for introducing randomness into your system relies on a gem, <a href=\"https://github.com/faker-ruby/faker\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Faker</a>. Faker provides hundred of modules themed around <a href=\"https://github.com/faker-ruby/faker#generators\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">different topics</a> on which you can get fake data.</p>\n<p>With Faker, you can get names, email addresses, physical addresses, quotes, and more.</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"ruby\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Faker</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Name</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.name</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;Marquerite Legros CPA&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Faker</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Internet</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.email</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;lawana_lesch@donnelly.com&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Faker</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">TvShows</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">TheITCrowd</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.quote</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;Well, I&#39;m the boss... Head Honcho. El Numero Uno. Mr. Big. The Godfather. Lord of the Rings. The Bourne... Identity. Er... Taxi Driver. Jaws. I forgot the question quite a while back. Who are you, again?&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">Faker</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">TvShows</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">::</span><span class=\"grvsc-t564vY-9 grvsc-tJmpaV-9\">SiliconValley</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.url</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">=&gt; </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;http://raviga.com&quot;</span></span></span></code></pre>\n<p>Faker provides an advantage over our <a href=\"#sequences\">sequences</a> example in that you aren't using the same basic template. Instead, you are pulling from a large list of possible values. Even better, most basic data types can generate fairly complex sample data. For example, looking at how <a href=\"https://github.com/faker-ruby/faker/blob/master/lib/locales/en/name.yml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">names</a> can be generated, there are prefixes, suffixes, and middle names; these additional variations could help potentially catch issues if you were not handling them.</p>\n<p>Like all of our options so far, Faker does not go as far as something like a <a href=\"https://dev.to/jdsteinhauser/intro-to-property-based-testing-2cj8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">property-based testing tool</a> would provide. Its goal is to provide realistic data, so you will not have test data that looks like someone rolled their head on the keyboard. That said, its realistic data will likely provide more variation and randomness than you would have if left to your own devices.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Adding some randomness into your tests can potentially help catch bugs. By creating scenarios you may not have been thinking of when designing a solution, random data can reveal tests that pass with one set of data and fail with another. While there are different levels of randomness and chances of catching corner cases in your system, some of the options covered in this post are low-cost enough that I use them by default.</p>\n<p>I hope you can adopt the practices in this post to shine a light on some of the bugs in your applications.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .tomorrow {\n    background-color: #FFFFFF;\n    color: #4D4D4C;\n  }\n  .tomorrow .grvsc-t564vY-1 { color: #4D4D4C; }\n  .tomorrow .grvsc-t564vY-7 { color: #718C00; }\n  .tomorrow .grvsc-t564vY-4 { color: #F5871F; }\n  .tomorrow .grvsc-t564vY-11 { color: #8959A8; }\n  .tomorrow .grvsc-t564vY-10 { color: #4271AE; }\n  .tomorrow .grvsc-t564vY-9 { color: #C99E00; }\n  .tomorrow .grvsc-t564vY-6 { color: #3E999F; }\n  .tomorrow .grvsc-t564vY-8 { color: #C82829; }\n  .tomorrow .grvsc-t564vY-3 { color: #8E908C; }\n  .tomorrow .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body.dark .grvsc-ps-tJmpaV {\n    background-color: #1D1F21;\n    color: #C5C8C6;\n  }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-1 { color: #C5C8C6; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-7 { color: #B5BD68; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-4 { color: #DE935F; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-11 { color: #B294BB; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-10 { color: #81A2BE; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-9 { color: #F0C674; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-6 { color: #8ABEB7; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-8 { color: #CC6666; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-3 { color: #969896; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Adding Randomness to Test Data","date":"August 30, 2021"}}},"pageContext":{"slug":"/2021/08/adding-randomness-to-test-data/","previous":{"fields":{"slug":"/2021/07/creating-development-migrations-with-ecto/"},"frontmatter":{"title":"Creating Development-Specific Migrations with Ecto"}},"next":{"fields":{"slug":"/2021/09/intro-to-postgres-explain/"},"frontmatter":{"title":"Intro to Postgre EXPLAIN"}}}},"staticQueryHashes":["3128451518","3649515864"]}