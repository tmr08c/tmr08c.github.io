{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2015/04/adding-carnival-to-jekyll/","result":{"data":{"site":{"siteMetadata":{"repsitory":"https://github.com/tmr08c/tmr08c.github.io"}},"markdownRemark":{"id":"bb6ab836-d15c-54e5-bde8-fe88a2ea4ff0","excerpt":"Update April 2019 The carnival repository has been archived and the site fails to load, so it looks like the service is no longer being supported. Original Postâ€¦","html":"<p><strong>Update April 2019</strong> The <a href=\"https://github.com/thoughtbot/carnival\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">carnival repository</a> has been archived and the <a href=\"https://carnivalapp.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">site</a> fails to load, so it looks like the service is no longer being supported.</p>\n<h2 id=\"original-post\" style=\"position:relative;\"><a href=\"#original-post\" aria-label=\"original post permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Original Post</h2>\n<p>I have mentioned before that I have been listening to <a href=\"https://thoughtbot.com/podcasts\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">thoughtbot's podcasts</a> a lot lately. One of the shows, <a href=\"http://bikeshed.fm/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The Bike Shed</a>, recently had a <a href=\"http://bikeshed.fm/9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">few</a> episodes in which they discussed the functional language, <a href=\"https://www.haskell.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Haskell</a>, including an <a href=\"http://bikeshed.fm/10\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">episode</a> in which thoughtbotter Pat Brisbin discussed how he was using Haskell at work to create a commenting system for their training program, <a href=\"https://upcase.com/join\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Upcase</a>.</p>\n<p> This commenting system is known as <a href=\"https://carnivalapp.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Carnival</a>. It is very similar to the commenting system that <a href=\"https://medium.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Medium</a> has - you have the ability to comment on individual sections rather than having all comments at the bottom. This style of commenting seems like it could be very beneficial to me; both for readers and writers.</p>\n<ul>\n<li>It makes it much easier for everyone to know the context of the comment - you know exactly which section someone is referencing with their comment</li>\n<li>It keeps discussions grouped together - often times it seems comments will have big threads discussing different aspects at various points in the history, with this format the comment groups will stick to their own areas and not be surrounded by unrelated posts</li>\n</ul>\n<p> Since there is a <a href=\"https://carnivalapp.io/plans\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">free hosting plan</a> available for non-commercial sites I figured I would see how easy it was to set up with Jekyll.</p>\n<h2 id=\"signing-up\" style=\"position:relative;\"><a href=\"#signing-up\" aria-label=\"signing up permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Signing Up</h2>\n<p>Signing up for an account is easy as they allow you to use GitHub or Google if you don't want to create an account.</p>\n<p>After signing in with my GitHub account I just had to provide a name for my site, my base URL, and the language in which, presumably, the comments would be created in, then click create.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/925343741da764f6c1e7b71e4c5f6c14/5d030/carnival_new_site.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8UlEQVQoz6WSC4uEMAyE/f8/URB8onJq3bX1rbOZwD65Q9YTPlJNnE6aeuu6YlkWMG7bqnGaplNs2waPiyRJEMcxoihCGIa4dh2stV9DM948z/B9H0EQiGCMWMS7/wiy3aIoMAwD9n0/3XLf90+HeZ4r4zgqFGfBNzjnnoJ0mKYZ6rpWWMBd7xsc8eaQLZdlKYNJYYxReB6nHVIwyzKdrrlccZGBjOJ6lu+LRObZxd3JbzDHQT4E27YVZw0amXCTpnA/FVppvSJVpfmjc32bMl8ckZ+diFiJ5kXQmFZbstZp/Au92LwqXGgEHnw+rDmCGjcqMFQWh3oOhAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"carnival new site\" title=\"carnival new site\" src=\"/static/925343741da764f6c1e7b71e4c5f6c14/0b533/carnival_new_site.png\" srcset=\"/static/925343741da764f6c1e7b71e4c5f6c14/fac75/carnival_new_site.png 125w,\n/static/925343741da764f6c1e7b71e4c5f6c14/63868/carnival_new_site.png 250w,\n/static/925343741da764f6c1e7b71e4c5f6c14/0b533/carnival_new_site.png 500w,\n/static/925343741da764f6c1e7b71e4c5f6c14/1d69c/carnival_new_site.png 750w,\n/static/925343741da764f6c1e7b71e4c5f6c14/5d030/carnival_new_site.png 771w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></img></p>\n<h2 id=\"setting-up\" style=\"position:relative;\"><a href=\"#setting-up\" aria-label=\"setting up permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting Up</h2>\n<p>I was shown a success message and the JavaScript I would need to include on my site.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6316011eb88f01c3eb1f4bcde7f5f0ad/e751c/carnival_success.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 66.39999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABW0lEQVQ4y51S2Y6DMAzM//9Sn/oVldpyFURLAuW+j1k7S6uWZdnD0sgJIePxxCIoOxyCDEZUwkka2AQn/TvsckQ+AMJyXARRDA7aoyc0w/g79JwnvZa7HYrTEcI0DJyORyRxDKUksjTFf6KXAcYih1BKwXEu8H0fnudBSoW269C27TrobJomAub8iUeIoiiQZZn+OAwDOrpQ1/W3qKoK4zjqy69ED2KRUousLKaWmbxpmk0w6RrhU2Ge57her0/CLXVbCp+E3K5LCqMoWiVcKizL8o1w6aPo+15XZe86Ml3nGQ+CVywVLiG4VSkljUyIMAwR8HrOTLCMtTbfWmb/DNPExbbhEmzDhEN7zup2Q002VIQkSXSBbmOkeEqETST7/R6OZWlC70IzaVoIaO3T0LtMTmfn8xk3KsAd3e/3L+A3YIsEV+UfM3rtnJQwtF+cWR15Vsze/TROrPADclftLw2/g7sAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"carnival success\" title=\"carnival success\" src=\"/static/6316011eb88f01c3eb1f4bcde7f5f0ad/0b533/carnival_success.png\" srcset=\"/static/6316011eb88f01c3eb1f4bcde7f5f0ad/fac75/carnival_success.png 125w,\n/static/6316011eb88f01c3eb1f4bcde7f5f0ad/63868/carnival_success.png 250w,\n/static/6316011eb88f01c3eb1f4bcde7f5f0ad/0b533/carnival_success.png 500w,\n/static/6316011eb88f01c3eb1f4bcde7f5f0ad/1d69c/carnival_success.png 750w,\n/static/6316011eb88f01c3eb1f4bcde7f5f0ad/00d43/carnival_success.png 1000w,\n/static/6316011eb88f01c3eb1f4bcde7f5f0ad/e751c/carnival_success.png 1123w\" sizes=\"(max-width: 500px) 100vw, 500px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></img></p>\n<p>When I initially set up my blog with Disqus I followed <a href=\"http://joshualande.com/jekyll-github-pages-poole/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this</a> blog post.</p>\n<p>This post recommended creating a <code>comments.html</code> file in the <code>_layouts</code> directory so I can simply append</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">{% include comments.html %}</span></span></span></code></pre>\n<p>to any pages I want comments. Since I want comments on all posts and all posts share a layout I just had to add this snippet to the bottom of my <code>_layouts/posts.html</code> file. You can see the initial setup in <a href=\"https://github.com/tmr08c/tmr08c.github.io/commit/62b25f07594e9e927aae162a952b24f35984a623\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this commit</a>.</p>\n<p>Since I already had this set up, adding Carnival was simple, I just had to add their provided snippet to my comments layout. Since I decided I wanted to leave Disqus for the time being my comments layout now looked like:</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"html\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-3 grvsc-tJmpaV-3\">&lt;!-- Carnival Comments --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;script src=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;https://carnivalapp.io/sites/182/init.js&quot;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&gt;&lt;/script&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;script&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">document</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.addEventListener</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;DOMContentLoaded&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Carnival</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">init</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;/script&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-3 grvsc-tJmpaV-3\">&lt;!-- Disqus Comments --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;div id=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;disqus_thread&quot;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&gt;&lt;/div&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;script type=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;text/javascript&quot;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    </span><span class=\"grvsc-t564vY-3 grvsc-tJmpaV-3\">/* * * CONFIGURATION VARIABLES * * */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">var</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">disqus_shortname</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;troyprogblog&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    </span><span class=\"grvsc-t564vY-3 grvsc-tJmpaV-3\">/* * * DON&#39;T EDIT BELOW THIS LINE * * */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    (</span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">function</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">        </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">var</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">dsq</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">document</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.createElement</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;script&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">); </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">dsq</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">type</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;text/javascript&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">; </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">dsq</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">async</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">true</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">        </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">dsq</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">.</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">src</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">=</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;//&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">+</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">disqus_shortname</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">+</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;.disqus.com/embed.js&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">        (</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">document</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.getElementsByTagName</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;head&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">)[</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">0</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">] </span><span class=\"grvsc-t564vY-6 grvsc-tJmpaV-6\">||</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\"> </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">document</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.getElementsByTagName</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;body&#39;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">)[</span><span class=\"grvsc-t564vY-4 grvsc-tJmpaV-4\">0</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">])</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.appendChild</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">dsq</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    })();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;/script&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;noscript&gt;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">Please enable JavaScript to view the </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;a href=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;https://disqus.com/?ref_noscript&quot;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\"> rel=</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;nofollow&quot;</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&gt;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">comments powered by Disqus.</span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">&lt;/a&gt;&lt;/noscript&gt;</span></span></span></code></pre>\n<p>That's it! Now I have in-post comments.</p>\n<h2 id=\"tweaking\" style=\"position:relative;\"><a href=\"#tweaking\" aria-label=\"tweaking permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tweaking</h2>\n<p>I checked a few pages and noticed that comments were not working for code blocks. I looked into the <a href=\"https://carnivalapp.io/docs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">docs</a> and saw an option named <code>block_selector</code>, which is, according to the docs:</p>\n<blockquote>\n<p>The CSS selector used to find elements within the Article on which to add comment Threads. When this selector is used, :scope will refer to your Article element.</p>\n</blockquote>\n<p>The default block selector include <code>:scope > pre</code>. The problem is the <a href=\"http://www.w3schools.com/cssref/sel_element_gt.asp\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code>></code></a> selector expects the <code>pre</code> tag to be the <strong>direct</strong> child of the <code>article</code> tag and Jekyll wraps the <code>pre</code> tags in a <code>div</code> with a class of <code>highlight</code>.</p>\n<p>Luckily Carnvial defaults can be changed in the init by passing in an object containing your preferred options. Which makes our comments code now look like:</p>\n<pre class=\"grvsc-container tomorrow grvsc-ps-tJmpaV\" data-language=\"javascript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">document</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.addEventListener</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(</span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&quot;DOMContentLoaded&quot;</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">, </span><span class=\"grvsc-t564vY-11 grvsc-tJmpaV-11\">function</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">(){</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  </span><span class=\"grvsc-t564vY-8 grvsc-tJmpaV-8\">Carnival</span><span class=\"grvsc-t564vY-10 grvsc-tJmpaV-10\">.init</span><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">    block_selector: </span><span class=\"grvsc-t564vY-7 grvsc-tJmpaV-7\">&#39;:scope &gt; p, :scope li, :scope &gt; .highlight, :scope &gt; blockquote&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t564vY-1 grvsc-tJmpaV-1\">});</span></span></span></code></pre>\n<p>I chose to change <code>:scope > pre</code> to <code>:scope > .highlight</code> but <code>:scope pre</code> also would work.</p>\n<p>Since I was tweaking what I could comment on I noticed I had some other uncommentable sections in some of my posts, lists and quotes, so I decided to add these as well.</p>\n<p>For lists I decided to allow each item to be comments on via <code>:scope li</code> as opposed to the overall list (something like <code>:scope > ul</code>). Since <code>li</code>'s are children of <code>ul</code>'s simply using <code>scope > li</code> would not have worked as the <code>li</code> is not the direct child of the <code>article</code>.</p>\n<p>When using the <code>></code> markdown tag for quotes, Jekyll will wrap the text in a <code>&#x3C;blockquote></code> tag, so adding <code>:scope > blockquote</code> to the <code>block_selector</code> list will allow quotes to be commentable as well.</p>\n<p>Now everyone can comment on paragraphs, list items, code blocks, and quotes.</p>\n<h2 id=\"things-to-watch-out-for\" style=\"position:relative;\"><a href=\"#things-to-watch-out-for\" aria-label=\"things to watch out for permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Things to Watch Out For</h2>\n<p>There are two things to be aware of:</p>\n<ol>\n<li>Commenting locally with be reflected on your blog - since you are pushing your comments to the service testing your comments \"locally\" will show up on your live blog. If you look at one of my older posts you will see I learned this from experience</li>\n<li>At the time of writing there is no way to delete a comment (see above for how I figured this out). Since Carnival is <a href=\"https://github.com/thoughtbot/carnival\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">open source</a> we can see that this is a <a href=\"https://github.com/thoughtbot/carnival/issues/264\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">known issue</a> so I'm sure there will be some solutions soon.</li>\n</ol>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>I am happy to get to have Medium-like comments added to my blog so easily. For now I want to leave up both Discqus and Carnival. I can see uses for both, commenting on the overall post versus specific sections, but could see removing one or the other at some point as well.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .tomorrow {\n    background-color: #FFFFFF;\n    color: #4D4D4C;\n  }\n  .tomorrow .grvsc-t564vY-1 { color: #4D4D4C; }\n  .tomorrow .grvsc-t564vY-3 { color: #8E908C; }\n  .tomorrow .grvsc-t564vY-8 { color: #C82829; }\n  .tomorrow .grvsc-t564vY-7 { color: #718C00; }\n  .tomorrow .grvsc-t564vY-10 { color: #4271AE; }\n  .tomorrow .grvsc-t564vY-11 { color: #8959A8; }\n  .tomorrow .grvsc-t564vY-6 { color: #3E999F; }\n  .tomorrow .grvsc-t564vY-4 { color: #F5871F; }\n  .tomorrow .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body.dark .grvsc-ps-tJmpaV {\n    background-color: #1D1F21;\n    color: #C5C8C6;\n  }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-1 { color: #C5C8C6; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-3 { color: #969896; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-8 { color: #CC6666; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-7 { color: #B5BD68; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-10 { color: #81A2BE; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-11 { color: #B294BB; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-6 { color: #8ABEB7; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-tJmpaV-4 { color: #DE935F; }\n  body.dark .grvsc-ps-tJmpaV .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Adding Carnival Comments to a Jekyll Blog","date":"April 30, 2015"}}},"pageContext":{"slug":"/2015/04/adding-carnival-to-jekyll/","previous":{"fields":{"slug":"/2015/04/barcamp-orlando-2015/"},"frontmatter":{"title":"2015 BarCamp Orlando"}},"next":{"fields":{"slug":"/2015/05/first-open-source-contribution/"},"frontmatter":{"title":"My First Open Source Contribution"}}}},"staticQueryHashes":["3128451518","3649515864"]}